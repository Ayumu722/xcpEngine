#!/usr/bin/env bash

###################################################################
#  ☭  ☭  ☭  ☭  ☭  ☭  ☭  ☭  ☭  ☭  ☭  ☭  ☭  ☭  ☭  ☭  ☭  ☭  ☭  ☭  ☭  #
###################################################################


###################################################################
# This design file stores the values of all variables required to
# execute a complete task-free functional connectivity pipeline.
# You may execute the analysis specified in this design file by
# calling (in any bash terminal):
#
# xcpEngine /home/asharma/xcpEngine/designs/struct_pipeline_201705311006.dsn
#
# Variables fall into five general categories:
# * ANALYSIS VARIABLES are used at all stages of this analysis.
# * PIPELINE specifies the modules that comprise the analysis.
# * GLOBAL VARIABLES are used at all stages of all analyses.
# * MODULE VARIABLES are used during one stage of the analysis.
#                  These are typically array variables with array
#                  indices equal to the index of the analysis
#                  stage during which they are used.
# * OUTPUT VARIABLES may be used at all stages of the analysis.
#                  These are sometimes array variables with array
#                  indices equal to the value of the primary
#                  subject identifier. They will appear only in
#                  localised design files.
###################################################################


###################################################################
# ANALYSIS VARIABLES
###################################################################

analysis=struc-ACCELERATOR
design=/home/rciric/xcpAccelerator/xcpEngine/designs/struc.dsn
sequence=anatomical
standard=REWARD%9375x9375x1

###################################################################
# PIPELINE
###################################################################

pipeline=struc,gmd,cortcon,jlf,roiquant #,strucQA

###################################################################
# 1 STRUC
###################################################################

struc_denoise_anat[1]=1
struc_prior_weight[1]=0.25
struc_posterior_formulation[1]='Socrates[1]'
struc_keepBEImages[1]=0
struc_floating_point[1]=0
struc_random_seed[1]=0
struc_bspline[1]=0
struc_fit[1]=0.3
struc_quick[1]=1
struc_rerun[1]=0
struc_cleanup[1]=1
struc_process[1]=BFC-ABE-REG-SEG # #ACT-CCC #BFC-ABE-REG

###################################################################
# 2 GMD
###################################################################

gmd_rerun[2]=0
gmd_cleanup[2]=1

###################################################################
# 3 CORTCON
###################################################################

cortcon_gm_val[3]=2
cortcon_wm_val[3]=3
cortcon_formulation[3]=fast
cortcon_rerun[3]=0
cortcon_cleanup[3]=0

###################################################################
# 4 JLF
###################################################################

newAntsPath[4]=/data/joy/BBL/applications/ANTsJLF_201603/bin/
jlf_keep_warps[4]=0
jlf_extract[4]=1
jlf_quick[4]=1
jlf_cohort[4]=SexBalanced20
jlf_rerun[4]=0
jlf_cleanup[4]=1

###################################################################
# 5 ROIQUANT
###################################################################

roiquant_atlas[5]=miccai
roiquant_vol[5]=1
roiquant_rerun[5]=0
roiquant_cleanup[5]=1

###################################################################
# 6 strucQA
###################################################################

strucQA_gm[6]=Y
strucQA_gm_val[6]=2,4
strucQA_wm[6]=Y
strucQA_wm_val[6]=3
strucQA_csf[6]=Y
strucQA_csf_val[6]=1
strucQA_cort[6]=Y
strucQA_cort_val[6]=4
strucQA_seg[6]=/data/joy/BBL/studies/reward/processedData/struct_pipeline/struct_pipeline_201705311006/100088/20130501x7944/antsCT/100088_20130501x7944_BrainSegmentation
strucQA_rerun[6]=N
strucQA_cleanup[6]=Y
